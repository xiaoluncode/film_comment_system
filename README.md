# “电影多维评分与智能推荐系统”软件使用说明书

## 一. 软件编制人员

- 21240207 王亚伦

## 二. 引言

本手册是“电影多维评分与智能推荐平台”的安装、部署和使用的详细指南。该平台采用 Spring Boot 3、Vue 3 和 MySQL 技术搭建，内置情感分析、三维评分和协同过滤推荐等核心功能，能够处理大量影评数据并生成个性化的电影推荐。

手册内容涵盖系统总体结构、运行环境要求、部署步骤、主要功能介绍、系统配置和安全措施，以及常见问题处理，帮助快速掌握平台的搭建和使用方法。

## 三. 系统结构概览

### 3.1 系统分层结构

本平台采用经典的三层架构：

1. **前端界面层**：使用 Vue 3 和 Element Plus 框架，负责与用户交互。
2. **后端逻辑层**：基于 Spring Boot 3 开发，处理业务逻辑、情感分析、推荐计算等。
3. **数据存储层**：使用 MySQL 数据库进行数据存储，Mybatis-Plus 框架负责数据库访问，优化查询速度。

> 详见附录 A 系统架构图

### 3.2 部署方式

- **本地单机部署**：适合个人开发和测试。
- **服务器部署**：前端项目通过 Nginx 发布，后端应用使用 Docker 容器化，数据库设置高可用，支持 Redis 缓存加速数据访问。

## 四. 运行环境与依赖条件

### 4.1 硬件和操作系统要求

| 环境         | 推荐配置                   | 最低配置                 |
| ------------ | -------------------------- | ------------------------ |
| CPU 核心数   | 8 核                       | 4 核                     |
| 内存         | 16 GB                      | 8 GB                     |
| 存储         | 500 GB SSD                 | 100 GB SSD               |
| 操作系统     | CentOS 7/8、Ubuntu 20.04 或 Windows Server 2019 |

### 4.2 软件依赖

- JDK 21
- Maven 3.9.8 及以上
- Node.js 16 及以上
- MySQL 8.0.37
- Git 2.30 及以上

### 4.3 其他组件

- Spring Boot 3.x
- Mybatis-Plus 3.x
- PageHelper 分页插件
- Redis 6.x（可选）
- Nginx 1.18 及以上

## 六. 安装与部署步骤

### 6.1 初始化数据库

```bash
mysql -u root -p
CREATE DATABASE film_comment_system CHARACTER SET utf8mb4;
USE film_comment_system;
SOURCE /opt/deploy/sql/film_comment_system.sql;
6.2 部署后端服务
克隆项目并切换分支：

bash
复制
编辑
git clone https://github.com/xiaoluncode/film_comment_system.git
cd springboot
git checkout release
编辑 application.yml 配置数据库连接。

打包并启动：

bash
复制
编辑
mvn clean package -DskipTests
java -jar target/film-comment-system.jar
6.3 部署前端页面
进入前端目录：

cd vue
npm install
npm run dev
将打包文件上传至 Nginx，配置代理访问。

七. 功能介绍
7.1 系统登录与注册
注册：填写用户名、密码、确认密码和昵称，密码采用 MD5+盐值加密。

登录：支持用户名密码，连续失败三次后锁定 10 分钟。

找回密码：通过邮箱验证码重置。

7.2 首页——电影排行榜
展示评分最高的前五电影，金银铜前三名分别用金、银、铜色标识。

每部电影显示封面、名称、简介、综合评分（半星图）、评论数量。

点击卡片进入详情页。

7.3 电影列表与筛选
支持按分类、年份、评分区间筛选，并可关键字搜索。

分页展示，默认每页 10 条，可自定义页码与页大小。

7.4 电影详情与评论
基本信息：海报、名称、导演、主演、分类、语言、上映日期。

评论展示：短评/长评视图，按时间倒序。

发表评论：输入内容后实时调用情感分析并展示得分。

7.5 情感分析结果查看
显示情感分：0.0–0.4（消极）、0.5（中性）、0.6–1.0（积极）。

点击“情感详情”查看匹配词及权重。

7.6 个性化推荐
基于协同过滤算法，根据历史评分和评论分类生成实时推荐。

推荐列表显示在首页侧栏，最多 3 部，可点击查看详情。

7.7 用户个人中心
查看/修改昵称、头像、密码。

我的评论：分页展示，可编辑删除。

我的推荐：查看历史，可刷新列表。

7.8 管理端功能
电影管理：增删改查分类及电影信息，支持批量导入。

影评管理：审核/删除评论，支持关键字过滤与批量操作。

用户管理：查看用户、重置密码、锁定/解锁帐号。

公告管理：发布、修改、删除公告，支持定时发布。

数据监控：实时查看访问量、成功率及慢查询日志。

八. 系统设置
8.1 配置文件说明
application.yml：后端配置（数据库、端口、日志、定时任务）。

vue.config.js：前端开发与打包配置（代理、路径别名）。

8.2 日志管理
后端使用 Log4j2，日志文件位于 logs/，按日期滚动。

前端在生产环境关闭详细日志，仅在浏览器控制台打印必要信息。

九. 故障排查
问题描述	可能原因	解决方案
后端无法启动	数据库连接失败	检查 application.yml 中数据库 URL、用户名、密码；确保 MySQL 已启动。
前端访问白屏	依赖安装失败或端口冲突	删除 node_modules 重新 npm install；检查或修改 vue.config.js 端口配置。
评论情感得分异常	情感词典未加载	重启后端服务，检查 SentimentAnalyzer 初始化日志；确认情感词典配置正确。
推荐列表为空	用户无评论或阈值过滤	新用户采用随机推荐；老用户检查 comment 表是否有数据，并重启推荐服务。

十. 附录
10.1 配置文件示例
yaml
复制
编辑
# application.yml
server:
  port: 8080
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/film_comment_system?useUnicode=true&characterEncoding=utf-8
    username: root
    password: password
logging:
  level:
    root: INFO
    com.example: DEBUG
10.2 常见术语
术语	解释
基础评分	用户直接给出的 1～5 分评分
情感评分	基于评论文本分析后的 0.0～1.0 得分
归一化评论数	对数函数归一化后的评论数量权重
协同过滤	根据用户行为相似度生成推荐
